<div class="my-4" style="margin-right: 400px;">
    <div class="container-fluid py-4">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <div>
                <h4 class="mb-4">Role Wise MenuList</h4>
              </div>
              <div>
                <div class="row">
                  <div class="col-lg-1">
                    <label class="form-group color-black"> Role </label>
                  </div>
                  <div class="col-lg-5">
                    <div class="form-group">
                      <!--<label class="color-808080">Parent Name</label>-->
                      <ng-select [items]="activeroleList" [(ngModel)]="selectedRole" (ngModelChange)="onRoleChange();"
                        class="" bindLabel="roleName" bindValue="_id" placeholder="Select Role">
                      </ng-select>
                    </div>
                  </div>
                </div>
                <div class="row" *ngIf="selectedRole != null">
                  <div class="col-lg-1">
                    <label class="form-group color-black"> Menu List </label>
                  </div>
                  <div class="col-lg-10">
                    <div class="table-responsive table-overflow-y">
                      <form [formGroup]="rolewisemenuForm">
                        <table class="table" formArrayName="menuList">
                          <thead>
                            <tr>
                              <th class="width-5 theme-color"></th>
                              <th class="width-20 theme-color">Menu Name</th>
                              <th class="width-15 theme-color">Create</th>
                              <th class="width-15 theme-color">Edit</th>
                              <th class="width-15 theme-color">View</th>
                              <th class="width-15 theme-color">Delete</th>
                            </tr>
                          </thead>
                          <tbody>
                            <!-- <tr>
                                <td>
                                    <mat-checkbox formControlName="ISCreated" (change)="
                                        isCreatedAllData({
                                          checked: $event.checked,
                                          index: 0
                                        })
                                      "></mat-checkbox>
                                  </td>
                            </tr> -->
                          </tbody>
                          <tbody [formGroupName]="i" *ngFor="
                              let item of rolewisemenuForm.get('menuList').controls;
                              let i = index
                            ">

                            <tr>
                                <td>
                                    <mat-checkbox formControlName="IsCreated" (change)="
                                        isCreatedMenuData({
                                          checked: $event.checked,
                                          index: i
                                        })
                                      "></mat-checkbox>
                                  </td>
                            </tr>

                            <tr>
                              <td class="width-5">
                                <a *ngIf="
                                    !!item.controls.childrenData &&
                                    item.controls.childrenData.length > 0
                                  " class="cursor-pointer" (click)="showHideMenuList({ index: i })">
                                  <i class="material-icons" *ngIf="
                                      item.controls.isShowChildrenList.value ===
                                      false
                                    ">add</i>
                                  <i class="material-icons" *ngIf="
                                      item.controls.isShowChildrenList.value ===
                                      true
                                    ">remove</i>
                                </a>
                              </td>
                              <td>
                                <input type="hidden" formControlName="menuId" />
                                <input type="hidden" class="form-control-disabled" formControlName="title" />
                                <h4 class="mb-0 heading-font-style">
                                  {{ item.controls.title.value }}
                                </h4>
                              </td>
                              <td>
                                <mat-checkbox formControlName="isCreated" (change)="
                                    isCreatedAllchildrenData({
                                      checked: $event.checked,
                                      index: i
                                    })
                                  "></mat-checkbox>
                              </td>
                              <td>
                                <mat-checkbox formControlName="isUpdated" (change)="
                                    isUpdatedchildrenData({
                                      checked: $event.checked,
                                      index: i
                                    })
                                  "></mat-checkbox>
                              </td>
                              <td>
                                <mat-checkbox formControlName="isView" (change)="
                                    isViewAllchildrenData({
                                      checked: $event.checked,
                                      index: i
                                    })
                                  "></mat-checkbox>
                              </td>
                              <td>
                                <mat-checkbox formControlName="isDeleted" (change)="
                                    isDeletedchildrenData({
                                      checked: $event.checked,
                                      index: i
                                    })
                                  "></mat-checkbox>
                              </td>
                            </tr>
                            <tr formArrayName="childrenData" *ngIf="
                                item.controls.isShowChildrenList.value === true
                              ">
                              <td colspan="6" class="p-0">
                                <table class="table m-0">
                                  <tbody>
                                    <tr [formGroupName]="x" *ngFor="
                                        let item1 of item.controls.childrenData
                                          .controls;
                                        let x = index
                                      ">
                                        <!-- <td>
                                            <mat-checkbox formControlName="ISCreated" (change)="
                                                isCreatedAllData({
                                                  checked: $event.checked,
                                                  index: 0
                                                })
                                              "></mat-checkbox>
                                          </td> -->
                                      <td class="width-5"></td>
                                      <td class="width-20">
                                        <input type="hidden" formControlName="menuId" />
                                        <input type="hidden" class="form-control-disabled" formControlName="title" />
                                        <h4 class="mb-0 heading-font-style">
                                          <!-- {{ item.controls.title.value }} >> -->
                                          {{ item1.controls.title.value }}
                                        
                                            <mat-checkbox formControlName="ISCreated" (change)="
                                                isCreatedAllData({
                                                  checked: $event.checked,
                                                  index: i,
                                                  innerI:x 
                                                })
                                              "></mat-checkbox>
                                       
                                        
                                        </h4>
                                      </td>
                                      <td class="width-15">
                                        <mat-checkbox formControlName="isCreated" (change)="
                                            isCreatedmenuData({
                                              checked: $event.checked,
                                              menuIndex: i,
                                              innerI:x 
                                            })
                                          "></mat-checkbox>
                                      </td>
                                      <td class="width-15">
                                        <mat-checkbox formControlName="isUpdated" (change)="
                                            isUpdatedmenuData({
                                              checked: $event.checked,
                                              menuIndex: i,
                                              innerI:x 
                                            })
                                          "></mat-checkbox>
                                      </td>
                                      <td class="width-15">
                                        <mat-checkbox formControlName="isView" (change)="
                                            isViewmenuData({
                                              checked: $event.checked,
                                              menuIndex: i,
                                              innerI:x 
                                            })
                                          "></mat-checkbox>
                                      </td>
                                      <td class="width-15">
                                        <mat-checkbox formControlName="isDeleted" (change)="
                                            isDeletedmenuData({
                                              checked: $event.checked,
                                              menuIndex: i,
                                              innerI:x 
                                            })
                                          "></mat-checkbox>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </td>
                            </tr>
                          </tbody>
                          <!-- <tbody>
                            <tr *ngIf="noData">
                              <td colspan="6">
                                <h2 class="text-center mb-0">Data Not Found</h2>
                              </td>
                            </tr>
                          </tbody> -->
                        </table>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <div class="card-footer" *ngIf="!!selectedRole">
                <button mat-raised-button class="btn bg-gradient-dark" (click)="saveRolewisemenu()">
                  Save
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- <div class="row" style="margin-top: -420px;">
    <div class="col-lg-1">
      <label class="form-group color-black"> Role </label>
    </div>
    <div class="col-lg-5">
      <div class="form-group">
        <ng-select [items]="activeroleList" [(ngModel)]="selectedRole" (ngModelChange)="onRoleChange();" class=""
          bindLabel="roleName" bindValue="_id" placeholder="Select Role">
        </ng-select>
      </div>
    </div>
    <form style="margin-top: 200px; margin-right: 400px;" [formGroup]="rolewisemenuForm">
      <table class="table" formArrayName="menuList">
        <thead>
          <tr>
            <th class="width-5 theme-color"></th>
            <th class="width-20 theme-color">Menu Name</th>
            <th class="width-15 theme-color">Create</th>
            <th class="width-15 theme-color">Edit</th>
            <th class="width-15 theme-color">View</th>
            <th class="width-15 theme-color">Delete</th>
          </tr>
        </thead>
        <tbody [formGroupName]="i" *ngFor="
                              let item of rolewisemenuForm.get('menuList').controls;
                              let i = index
                            ">
          <tr>
            <td class="width-5">
              <a *ngIf="
                                    !!item.controls.childrenData &&
                                    item.controls.childrenData.length > 0
                                  " class="cursor-pointer">
                <i class="material-icons" *ngIf="
                                      item.controls.isShowChildrenList.value ===
                                      false
                                    ">add</i>
                <i class="material-icons" *ngIf="
                                      item.controls.isShowChildrenList.value ===
                                      true
                                    ">remove</i>
              </a>
            </td>
            <td>
              <input type="hidden" formControlName="menuId" />
              <input type="hidden" formControlName="title" />
              <h4 class="mb-0 heading-font-style">
                {{ item.controls.title.value }}
              </h4>
            </td>
            <td>
              <mat-checkbox formControlName="isCreated"></mat-checkbox>
            </td>
            <td>
              <mat-checkbox formControlName="isUpdated"></mat-checkbox>
            </td>
            <td>
              <mat-checkbox formControlName="isView"></mat-checkbox>
            </td>
            <td>
              <mat-checkbox formControlName="isDeleted"></mat-checkbox>
            </td>
          </tr>
          <tr formArrayName="childrenData" *ngIf="
                                item.controls.isShowChildrenList.value === true
                              ">
            <td colspan="6" class="p-0">
              <table class="table m-0">
                <tbody>
                  <tr [formGroupName]="x" *ngFor="
                                        let item1 of item.controls.childrenData
                                          .controls;
                                        let x = index
                                      ">
                    <td class="width-5"></td>
                    <td class="width-20">
                      <input type="hidden" formControlName="menuId" />
                      <input type="hidden" formControlName="title" />
                      <h4 class="mb-0 heading-font-style">
                        {{ item.controls.title.value }} >>
                        {{ item1.controls.title.value }}
                      </h4>
                    </td>
                    <td class="width-15">
                      <mat-checkbox formControlName="isCreated"></mat-checkbox>
                    </td>
                    <td class="width-15">
                      <mat-checkbox formControlName="isUpdated"></mat-checkbox>
                    </td>
                    <td class="width-15">
                      <mat-checkbox formControlName="isView"></mat-checkbox>
                    </td>
                    <td class="width-15">
                      <mat-checkbox formControlName="isDeleted"></mat-checkbox>
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        </tbody>
  
      </table>
    </form>
  </div> -->